<!-- Sidebar Principal -->
<aside [class]="{
       'w-64': isSidebarOpen && !isMobileView,
       'w-16': !isSidebarOpen && !isMobileView,
       'translate-x-0': isSidebarOpen && isMobileView,
       '-translate-x-full': !isSidebarOpen && isMobileView,
       'fixed': isMobileView,
       'bg-white': true
     }"
     class="h-screen transition-all duration-300 z-30 border-r border-gray-300 shadow-sm">
  
  <nav class="h-full py-4 overflow-y-auto">
    <ul class="space-y-1 px-2">
      @for (item of menuItems; track item.path) {
        <li>
          <a [routerLink]="item.path"
             routerLinkActive="bg-gray-100 text-blue-600"
             class="flex items-center p-2 rounded-lg hover:bg-gray-100 text-gray-700 hover:text-blue-600 group">
            <i [class]="item.icon + ' w-6 text-center text-gray-500'"></i>
            <span class="ml-3 whitespace-nowrap text-sm font-medium"
                  [class.hidden]="!isSidebarOpen">{{item.label}}</span>
          </a>
        </li>
      }
    </ul>
  </nav>
</aside>

<!-- Overlay pour mobile -->
@if (isMobileView && isSidebarOpen) {
  <div (click)="toggleSidebar()"
       class="fixed inset-0 bg-black/50 z-20 backdrop-blur-sm"></div>
}

<!-- Barre de navigation mobile (bottom) -->
@if (isMobileView) {
  <div class="fixed bottom-0 left-0 right-0 bg-gray-800 border-t border-gray-700 flex justify-around items-center p-2 z-40">
    @for (item of menuItems; track item.path) {
      <a [routerLink]="item.path" 
         routerLinkActive="text-blue-400"
         class="flex flex-col items-center p-2 text-gray-400 hover:text-white">
        <i [class]="item.icon + ' mb-1'"></i>
        <span class="text-xs">{{item.label}}</span>
      </a>
    }
  </div>
}