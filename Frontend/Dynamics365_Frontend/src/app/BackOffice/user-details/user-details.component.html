<div class="bg-gray-800 rounded-2xl p-6 shadow-lg animate-fade-in">
    <!-- Bouton Retour -->
    <button (click)="closeDetails()"
            class="flex items-center text-blue-400 hover:text-blue-300 transition-colors mb-6 px-4 py-2 rounded-lg bg-gray-700 hover:bg-gray-600">
        <i class="fas fa-arrow-left mr-2"></i>
        Retour à la liste
    </button>

    <!-- Carte utilisateur -->
    <div class="bg-gray-700/50 rounded-xl p-6 border border-gray-600">
        <!-- En-tête avec photo -->
        <div class="flex flex-col sm:flex-row items-start gap-6 mb-8">
            @if (selectedUser$ | async; as user) {
                @if (user.Photo) {
                    <img [src]="user.Photo" 
                         alt="Photo de profil"
                         class="w-20 h-20 rounded-full object-cover border-2 border-blue-400">
                } @else {
                    <div class="w-20 h-20 rounded-full bg-gray-600 flex items-center justify-center text-3xl text-gray-400 border-2 border-blue-400">
                        <i class="fas fa-user"></i>
                    </div>
                }
                
                <div>
                    <h2 class="text-2xl font-bold text-white mb-2">{{ user.FullName }}</h2>
                    <div class="flex items-center text-sm text-gray-300">
                        <span class="inline-block w-3 h-3 rounded-full mr-2"
                              [class.bg-green-500]="user.IsConnected"
                              [class.bg-red-500]="!user.IsConnected"></span>
                        {{ user.IsConnected ? 'En ligne' : 'Hors ligne' }}
                    </div>
                </div>
            }
        </div>

        <!-- Grille d'informations -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- Colonne 1 -->
            <div class="space-y-4">
                <div class="flex flex-col sm:flex-row sm:items-start gap-2">
                    <span class="text-sm text-gray-400 font-medium min-w-[100px]">Email :</span>
                    <span class="text-white flex-1">{{ (selectedUser$ | async)?.Email }}</span>
                </div>
                
                <div class="flex flex-col sm:flex-row sm:items-start gap-2">
                    <span class="text-sm text-gray-400 font-medium min-w-[100px]">Téléphone :</span>
                    <span class="text-white flex-1">{{ (selectedUser$ | async)?.PhoneNumber || 'Non renseigné' }}</span>
                </div>
                
                <div class="flex flex-col sm:flex-row sm:items-start gap-2">
                    <span class="text-sm text-gray-400 font-medium min-w-[100px]">Rôle :</span>
                    <span class="text-white flex-1">
                        {{ (selectedUser$ | async)?.IsTechnician ? 'Technicien' : 'Utilisateur' }}
                        {{ (selectedUser$ | async)?.isAdmin ? '(Administrateur)' : '' }}
                    </span>
                </div>
            </div>
            
            <!-- Colonne 2 -->
            <div class="space-y-4">
                <div class="flex flex-col sm:flex-row sm:items-start gap-2">
                    <span class="text-sm text-gray-400 font-medium min-w-[100px]">Adresse :</span>
                    <span class="text-white flex-1">{{ (selectedUser$ | async)?.Address || 'Non renseigné' }}</span>
                </div>
                
                <div class="flex flex-col sm:flex-row sm:items-start gap-2">
                    <span class="text-sm text-gray-400 font-medium min-w-[100px]">Ville :</span>
                    <span class="text-white flex-1">
                        {{ (selectedUser$ | async)?.CodePostal }} {{ (selectedUser$ | async)?.City || 'Non renseigné' }}
                    </span>
                </div>
                
                <div class="flex flex-col sm:flex-row sm:items-start gap-2">
                    <span class="text-sm text-gray-400 font-medium min-w-[100px]">Pays :</span>
                    <span class="text-white flex-1">{{ (selectedUser$ | async)?.Country || 'Non renseigné' }}</span>
                </div>
            </div>
        </div>
    </div>
</div>